<!doctype html>
<html lang="ja">
<meta charset="utf-8">
<script src="image_table/char_and_folder_info.js"></script>
<script src="image_table/image_existence_table.js"></script>
<script src="image_table/generate_linzi_image_table_html.js"></script>
<script>
const hidden_columns = new URLSearchParams(new URL(location.href).search).getAll("hide");
document.write(generate_table_narrow_html("table_narrow", hidden_columns));

function sort_narrow_table_by(ind) {
    const rows = Array.from(document.getElementById("table_narrow").children[0].children);
    const firstRow = rows[0];
    const secondRow = rows[1];
    const rest = rows.slice(2);
    rest.sort((a,b) => {
        const len_a = Array.from(a.cells)[ind].children.length;
        const len_b = Array.from(b.cells)[ind].children.length;
        if (len_a === len_b) {
            const a_linzi = Array.from(a.cells)[0].innerHTML.slice(-1);
            const b_linzi = Array.from(b.cells)[0].innerHTML.slice(-1);
            return linzi_list.indexOf(a_linzi) - linzi_list.indexOf(b_linzi);
        } else {
            return len_b - len_a;
        }
    })
    document.getElementById("table_narrow").children[0].appendChild(firstRow);
    document.getElementById("table_narrow").children[0].appendChild(secondRow);
    for (let i = 0; i < rest.length; i++) {
        document.getElementById("table_narrow").children[0].appendChild(rest[i]);
    }
}
</script>
</html>
