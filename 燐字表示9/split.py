from matplotlib.image import imread
import matplotlib.pyplot as plt
import numpy as np
# "出"
# "勿"
# "翰"
linziList1 = [
	"五","人","之","上","閉","手","足","一","無","処","少","心","水","口","日","糸","物","声","言","筆",
	"四","等","兵","火","大","光","耒","己","下","輪","天","闇","圧","衣","包","力","連","筒","直","撃",
	"如","","","","", "","","","","", "","","","","", "","","","","",
	"","","","","", "","","","","", "","","","","", "","","","","",
	"我","汝","此","其","何","全","互","時","故","術","書","墨","論","紙","頭","果","満","清","牌","豊",
	"家","善","認","寝","覆","琴","古","行","囲","党","笑","戦","静","層","噫","律","集","輝","始","終",
	"二","三","為","川","山","海","陸","島","名","内","将","疲","官","意","友","値","受","於","与","背",
	"哩","布","新","縦","低","悪","壊","王","国","六","七","八","高","綿","油","星","季","入","識","学",
	"来","棉","夏","定","傷","棚","血","道","吁","救","従","从","奮","酒","煙","味","甘","混","御","労",
	"能","後","素","后","文","聯","鎖","祖","多","極","増","笛","笙","正","長","謝","歌","寐","恒","立"
	];
linziList2 = [
	"享","隊","軍","止","冬",  "軟","柔","絵","氏","閥",  "","","","","",  "","","","","",
	"","","","","",  "","","","","",  "","","","","",  "","","","","",
	"＊ワ","車","積","族","",	"","","石","使","真",		"硬","","花","蜜","春",	"雪","","","","",
	"机","席","箏","座","",	"再","在","累","件","",	"開","船","散","","風",	"月","弓","抗","","",
	"樽","鼓","皷","深","",	"同","輩","類","属","",	"軸","北","纂","冠","",	"＊ㄉ","亦","乎","地","",
	"平","守","美","","獣",	"馬","貓","男","父","㕮",	"","周","近","広","",		"草","種","茶","","",
	"小","挽","短","","左",	"倒","","而","即","",		"木","竹","竺","","色",	"黒","青","","銭","店",
	"岩","欽","","西","菓",	"","膠","脂","","骨",		"肉","","彼","龍","",		"錘","禦","","目","麗",
	"箱","機","","門","械",	"","十","唯","","鳥",		"倉","","右","横","",		"虎","猫","","女","母",
	"腹","前","","巫","祭",	"","別","裁","","米",		"","刀","秋","穐","",	"貧","神","或","位","字"
	];
linziList3 = [
	"谷","魚","虫","皇","貝","函","中","外","東","南","九","加","金","夘","反","耳","助","豆","嗅","傾",
	"震","端","歪","片","針"
	];

t1 = [[ 3.71500000e+02,  1.18631579e+02, -7.77777778e-01],
 [ 8.62000000e+02,  3.68421053e-01,  1.68777778e+02]]

t2 = [[ 9.08750000e+02,  1.18657895e+02, -1.05555556e+00],
 [ 8.07500000e+01,  6.05263158e-01,  1.68611111e+02]]

t3 = [[ 7.60000000e+02,  1.18736842e+02, -8.88888889e-01],
 [ 3.54250000e+02,  3.42105263e-01,  1.68833333e+02]]

def main():
	foo('img1.png',linziList1,t1)
	foo('img2.png',linziList2,t2)
	foo('img3.png',linziList3,t3)

def foo(path,list_,t):
	A = imread(path)
	for i in range(len(list_)):
		save(t,A,int(i/20),i%20,list_[i]);


# ith row, jth column
def save(t,A,i,j,name):
	if name == "":
		return
	I = int(t[0][0] + t[0][1]*j + t[0][2]*i)
	J = int(t[1][0] + t[1][1]*j + t[1][2]*i)
	B = A[J:J+123,I:I+123]
	plt.imsave('../燐字画像11/'+name + '.png', B)
	print(name)

if __name__ == '__main__':
    main()
